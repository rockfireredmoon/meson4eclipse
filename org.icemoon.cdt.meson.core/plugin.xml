<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

   <extension
         point="org.eclipse.cdt.managedbuilder.core.buildDefinitions">
      <managedBuildRevision
            fileVersion="4.0.0">
      </managedBuildRevision>
         <builder
               autoBuildTarget="all"
               buildRunner="org.icemoon.cdt.meson.core.internal.MesonBuildRunner"
               buildfileGenerator="org.icemoon.cdt.meson.core.internal.BuildscriptGenerator"
               cleanBuildTarget="clean"
               command="${MesonBuildTool}"
               id="org.icemoon.cdt.meson.core.genscriptbuilder"
               ignoreErrCmd="${MesonBuildToolIgnErr}"
               incrementalBuildTarget="all"
               name="Meson Builder (portable)">
         </builder>
   </extension>
   <extension
         id="BuildscriptGenerationError"
         name="Buildscript Generation Problem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
   </extension>
   <!-- project settings UI   -->
  
    <extension
         point="org.eclipse.ui.propertyPages">
        <page
              category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
              class="org.icemoon.cdt.meson.core.ui.MesonPropertyPage"
              id="org.icemoon.cdt.meson.core.ui.MesonPropertyPage"
              name="Meson">
         <enabledWhen>
              <adapt type="org.eclipse.core.resources.IProject">
                 <test
                       property="org.eclipse.core.resources.projectNature"
                       value="org.eclipse.cdt.managedbuilder.core.managedBuildNature">
                 </test>
           </adapt>
         </enabledWhen>
         <keywordReference
               id="org.icemoon.cdt.meson.core.keyword.meson">
         </keywordReference>
         <keywordReference
               id="org.icemoon.cdt.meson.core.keyword.cdt">
         </keywordReference>
        </page>    
        <page
              category="org.icemoon.cdt.meson.core.ui.MesonPropertyPage"
              class="org.icemoon.cdt.meson.core.ui.HostOSPropertyPage"
              id="org.icemoon.cdt.meson.core.ui.HostOSPropertyPage"
              name="Host OS overrides">
         <enabledWhen>
           <adapt type="org.eclipse.core.resources.IProject">
	            <test property="org.eclipse.core.resources.projectNature"
	                  value="org.eclipse.cdt.managedbuilder.core.managedBuildNature"/>
           </adapt>
         </enabledWhen>
        </page>    
  </extension>
   <extension
         point="org.eclipse.cdt.ui.cPropertyTab">
      <tab
            class="org.icemoon.cdt.meson.core.ui.MesonPropertyTab"
            helpId="org.icemoon.cdt.meson.core.t_meson_options_general"
            name="&amp;General"
            parent="org.icemoon.cdt.meson.core.ui.MesonPropertyPage"
            tooltip="Properties applied under each OS">
      </tab>
      <tab
            class="org.icemoon.cdt.meson.core.ui.MesonProjectOptionsTab"
            helpId="org.icemoon.cdt.meson.core.t_meson_project_options_general"
            name="&amp;Project Options"
            parent="org.icemoon.cdt.meson.core.ui.MesonPropertyPage"
            tooltip="Applied under each OS">
      </tab>
      <tab
            class="org.icemoon.cdt.meson.core.ui.MesonAdvancedTab"
            helpId="org.icemoon.cdt.meson.core.t_meson_options_advanced"
            name="&amp;Advanced"
            parent="org.icemoon.cdt.meson.core.ui.MesonPropertyPage"
            tooltip="Advanced properties applied under each OS">
      </tab>
      <tab
            class="org.icemoon.cdt.meson.core.ui.LinuxPropertyTab"
            helpId="org.icemoon.cdt.meson.core.t_meson_options_OS"
            name="&amp;Linux/default"
            parent="org.icemoon.cdt.meson.core.ui.HostOSPropertyPage"
            tooltip="Properties applied under Linux or unkown OS"
            weight="10">
      </tab>
      <tab
            class="org.icemoon.cdt.meson.core.ui.WindowsPropertyTab"
            helpId="org.icemoon.cdt.meson.core.t_meson_options_OS"
            name="&amp;Windows"
            parent="org.icemoon.cdt.meson.core.ui.HostOSPropertyPage"
            tooltip="Properties applied under windows"
            weight="80">
      </tab>
   </extension>

   <extension
         point="org.eclipse.cdt.core.CBuildConsole">
      <CBuildConsole
            class="org.icemoon.cdt.meson.core.ui.MesonConsole"
            id="org.icemoon.cdt.meson.core.mesonConsole">
      </CBuildConsole>
   </extension>
   <extension
         id="MesonErrorParser"
         name="Meson Error Parser"
         point="org.eclipse.cdt.core.ErrorParser">
      <errorparser
            class="org.icemoon.cdt.meson.core.MesonErrorParser"></errorparser>
   </extension>
   <extension
         id="problem"
         name="Meson Problem"
         point="org.eclipse.core.resources.markers">
      <super type="org.eclipse.core.resources.problemmarker">
      </super>
	<super type="org.eclipse.core.resources.textmarker">
	</super>
   </extension>
 <extension
         point="org.eclipse.cdt.managedbuilder.core.buildProperties">
    <propertyValue
            property="org.eclipse.cdt.build.core.buildArtefactType"
            id="org.icemoon.cdt.meson.core.buildArtefactType.MESON"
            name="defined by MesonLists.txt"/>
   </extension>
 <extension point="org.eclipse.help.toc">
    <toc file="doc/toc.xml" primary="true">
    </toc>
 </extension>
 <extension point="org.eclipse.help.toc">
    <toc file="doc/topics_Tasks.xml">
    </toc>
 </extension>
 <extension
       point="org.eclipse.help.contexts">
    <contexts
          file="doc/contexts_Meson4CDT.xml">
    </contexts>
 </extension>
 <extension
       point="org.eclipse.ui.keywords">
    <keyword
          id="org.icemoon.cdt.meson.core.keyword.cdt"
          label="cdt">
    </keyword>
    <keyword
          id="org.icemoon.cdt.meson.core.keyword.meson"
          label="meson">
    </keyword>
 </extension>
</plugin>
